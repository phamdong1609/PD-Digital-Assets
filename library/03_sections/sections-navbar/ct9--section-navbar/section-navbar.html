<!-- 
  Section: QTDS Navbar (Phiên bản 3.2 - Chống lỗi triệt để & Tương thích ngược)
  Description: 
  - Nâng cấp để đọc dữ liệu động từ `locals` (JSON), bao gồm cả một mảng `nav_links`.
  - Sử dụng khối <if condition="!variable"> để cung cấp nội dung tĩnh mặc định.
-->
<nav id="navbar" class="qtds-navbar">
    <div class="qtds-container qtds-navbar__content">
        <a href="#" class="qtds-navbar__brand">
            <!-- Dynamic Logo -->
            <if condition="navbar_logo_src">
                <img src="{{ navbar_logo_src }}" alt="Logo QTDS" class="qtds-navbar__logo">
            </if>
            <if condition="!navbar_logo_src">
                <img src="https://w.ladicdn.com/5cdb79b830dba94fe2f5f09b/qtd473cda8ff74952c29949-20250812152525-akkqb.png" alt="Logo QTDS" class="qtds-navbar__logo">
            </if>
            
            <!-- Dynamic Brand Name -->
            <span class="qtds-navbar__brand-name">
                <if condition="navbar_brand_name">{{ navbar_brand_name }}</if>
                <if condition="!navbar_brand_name">QTDS</if>
            </span>
        </a>

        <!-- Desktop Links -->
        <div class="qtds-navbar__links">
            <if condition="nav_links">
                <each loop="link in nav_links">
                    <a href="{{ link.href }}" class="qtds-navbar__link">{{ link.text }}</a>
                </each>
            </if>
            <if condition="!nav_links">
                <a href="#tong-quan" class="qtds-navbar__link">Tổng Quan</a>
                <a href="#thach-thuc" class="qtds-navbar__link">Thách Thức</a>
                <a href="#chuan-hoa-du-lieu" class="qtds-navbar__link">Nền Tảng</a>
                <a href="#giai-phap" class="qtds-navbar__link">Giải Pháp</a>
                <a href="#loi-ich" class="qtds-navbar__link">Lợi Ích</a>
                <a href="#articles" class="qtds-navbar__link">Thư Viện</a>
            </if>
        </div>
        <button class="qtds-navbar__mobile-btn" id="mobileMenuBtn" aria-label="Toggle menu"><i class="fas fa-bars"></i></button>
    </div>

    <!-- Mobile Menu -->
    <div class="qtds-navbar__mobile-menu" id="mobileMenu">
        <if condition="nav_links">
             <each loop="link in nav_links">
                <a href="{{ link.href }}" class="qtds-navbar__mobile-link">{{ link.text }}</a>
            </each>
            <!-- Add a default CTA button for mobile if it's not in the main links -->
            <a href="#san-sang-chuyen-doi" class="qtds-navbar__mobile-link">Hành Động</a>
        </if>
        <if condition="!nav_links">
            <a href="#tong-quan" class="qtds-navbar__mobile-link">Tổng Quan</a>
            <a href="#thach-thuc" class="qtds-navbar__mobile-link">Thách Thức</a>
            <a href="#chuan-hoa-du-lieu" class="qtds-navbar__mobile-link">Nền Tảng</a>
            <a href="#giai-phap" class="qtds-navbar__mobile-link">Giải Pháp</a>
            <a href="#loi-ich" class="qtds-navbar__mobile-link">Lợi Ích</a>
            <a href="#articles" class="qtds-navbar__mobile-link">Thư Viện</a>
            <a href="#san-sang-chuyen-doi" class="qtds-navbar__mobile-link">Hành Động</a>
        </if>
    </div>
</nav>
