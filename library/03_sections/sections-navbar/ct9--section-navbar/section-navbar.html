<!-- 
  Section: QTDS Navbar (Phiên bản 3.6 - Fix lỗi build triệt để)
  Description: 
  - Thêm script bảo vệ để khởi tạo `locals` và các biến mặc định.
  - Cách này đảm bảo linh kiện không bị lỗi ReferenceError khi build tĩnh (CT9).
  - Sử dụng `||` để cung cấp giá trị mặc định cho các biến đơn giản.
-->
<script>
  expressions.locals = Object.assign({
    navbar_logo_src: null,
    navbar_brand_name: null,
    nav_links: null
  }, expressions.locals);
</script>
<nav id="navbar" class="qtds-navbar">
    <div class="qtds-container qtds-navbar__content">
        <a href="#" class="qtds-navbar__brand">
            <if condition="navbar_logo_src">
                <img src="{{ navbar_logo_src }}" alt="{{ navbar_brand_name || 'Logo QTDS' }}" class="qtds-navbar__logo">
            </if>
            <if condition="!navbar_logo_src">
                <img src="https://w.ladicdn.com/5cdb79b830dba94fe2f5f09b/qtd473cda8ff74952c29949-20250812152525-akkqb.png" alt="Logo QTDS" class="qtds-navbar__logo">
            </if>
            <span class="qtds-navbar__brand-name">
                <if condition="navbar_brand_name">{{ navbar_brand_name }}</if>
                <if condition="!navbar_brand_name">QTDS</if>
            </span>
        </a>
        <div class="qtds-navbar__links">
            <if condition="nav_links">
                <each loop="link in nav_links">
                    <a href="{{ link.href }}" class="qtds-navbar__link">{{ link.text }}</a>
                </each>
            </if>
            <if condition="!nav_links">
                <a href="#tong-quan" class="qtds-navbar__link">Tổng Quan</a>
                <a href="#thach-thuc" class="qtds-navbar__link">Thách Thức</a>
                <a href="#chuan-hoa-du-lieu" class="qtds-navbar__link">Nền Tảng</a>
                <a href="#giai-phap" class="qtds-navbar__link">Giải Pháp</a>
                <a href="#loi-ich" class="qtds-navbar__link">Lợi Ích</a>
                <a href="#articles" class="qtds-navbar__link">Thư Viện</a>
            </if>
        </div>
        <button class="qtds-navbar__mobile-btn" id="mobileMenuBtn" aria-label="Toggle menu"><i class="fas fa-bars"></i></button>
    </div>
    <div class="qtds-navbar__mobile-menu" id="mobileMenu">
        <if condition="nav_links">
             <each loop="link in nav_links">
                <a href="{{ link.href }}" class="qtds-navbar__mobile-link">{{ link.text }}</a>
            </each>
            <a href="#san-sang-chuyen-doi" class="qtds-navbar__mobile-link">Hành Động</a>
        </if>
        <if condition="!nav_links">
            <a href="#tong-quan" class="qtds-navbar__mobile-link">Tổng Quan</a>
            <a href="#thach-thuc" class="qtds-navbar__mobile-link">Thách Thức</a>
            <a href="#chuan-hoa-du-lieu" class="qtds-navbar__mobile-link">Nền Tảng</a>
            <a href="#giai-phap" class="qtds-navbar__mobile-link">Giải Pháp</a>
            <a href="#loi-ich" class="qtds-navbar__mobile-link">Lợi Ích</a>
            <a href="#articles" class="qtds-navbar__mobile-link">Thư Viện</a>
            <a href="#san-sang-chuyen-doi" class="qtds-navbar__mobile-link">Hành Động</a>
        </if>
    </div>
</nav>

